[project]
name = "tomviz"
description = "Environment to run tomviz"
version = "0.1.0"
channels = ["conda-forge"]
platforms = ["linux-64"]

[dependencies]
python = "==3.11"
tomviz = ">=2.1.2"
h5py = "*"
xraylib = "*"
tomopy = "*"

[pypi-dependencies]
bluesky-tiled-plugins = ">=2.0.0rc1"
pyxrf = "*"
hxntools = "*"
xrf-tomo = "*"
scikit-beam = "*"
tiled = { version = ">=0.2.0", extras = ["client"] }

[tasks]
# Launch Tomviz from the pixi environment
tomviz = "tomviz"

# -------------------------
# Environments
# -------------------------
[environments]
default = { solve-group = "default" }
dev     = { features = ["dev"], solve-group = "default" }

# -------------------------
# Features
# -------------------------
# Dev-only tools and tasks (enabled when -e dev is used)
[feature.dev.dependencies]
pytest = "*"
pytest-cov = "*"
flake8 = "*"
black = "*"
mypy = "*"
coverage = "*"
codecov = "*"
sphinx = "*"
numpydoc = "*"
ipython = "*"
matplotlib = "*"
sphinx-copybutton = "*"
sphinx_rtd_theme = "*"

[feature.dev.tasks]
# Run tests + coverage + flake8 in one go (xviewlite-style)
lint = "coverage run -m pytest && coverage report -m && codecov && flake8"

