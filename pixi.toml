[project]
name = "tomviz"
description = "Environment to run tomviz"
version = "0.1.0"
channels = ["conda-forge"]
platforms = ["linux-64"]

[dependencies]
python = "==3.12"
tomviz = ">=2.2.2"
tomopy = "*"
pystackreg = "*"

[pypi-dependencies]
bluesky-tiled-plugins = ">=2.0.0rc1"
tiled = { version = ">=0.2.0", extras = ["client"] }

[tasks]
# Launch Tomviz from the pixi environment
tomviz = {cmd = ["bash", "-c", "unset SESSION_MANAGER && tomviz"]}

# -------------------------
# Environments
# -------------------------
[environments]
default = { solve-group = "default" }
dev     = { features = ["dev"], solve-group = "default" }

# -------------------------
# Features
# -------------------------
# Dev-only tools and tasks (enabled when -e dev is used)
[feature.dev.dependencies]
pytest = "*"
ruff = "*"
ipython = "*"
matplotlib-base = "*"

[feature.dev.tasks]
lint = "ruff check"

